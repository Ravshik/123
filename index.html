<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–∫—Ç–µ–π–ª–µ–π</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            width: 100%;
            max-width: 400px;
        }
        select, input, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üç∏ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–∫—Ç–µ–π–ª–µ–π</h1>
    <select id="cocktailSelect">
        <option>-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–∫—Ç–µ–π–ª—å --</option>
    </select>
    <input type="number" id="quantity" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" value="1" min="1">
    <button onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

    <div id="result" style="margin-top:20px;"></div>
</div>

<script>
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–∫—Ç–µ–π–ª–µ–π
async function loadCocktails() {
    try {
        const response = await fetch('/api/cocktails');
        const data = await response.json();

        // –µ—Å–ª–∏ data.list —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ä–∞–±–æ—Ç–∞–µ–º —Å –Ω–∏–º, –∏–Ω–∞—á–µ —Å data
        const cocktails = data.list ? data.list : data;

        const select = document.getElementById('cocktailSelect');
        cocktails.forEach(record => {
            const option = document.createElement('option');
            option.value = record.Name;
            option.textContent = record.Name;
            select.appendChild(option);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–∫—Ç–µ–π–ª–µ–π:', error);
    }
}

// –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
function calculate() {
    const cocktail = document.getElementById('cocktailSelect').value;
    const quantity = document.getElementById('quantity').value;
    
    if (cocktail && quantity > 0) {
        document.getElementById('result').innerHTML = `<strong>–í—ã –≤—ã–±—Ä–∞–ª–∏:</strong> ${cocktail} –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ ${quantity} —à—Ç.`;
    } else {
        document.getElementById('result').innerHTML = `<span style="color:red;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–∫—Ç–µ–π–ª—å –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.</span>`;
    }
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–∫—Ç–µ–π–ª–µ–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', loadCocktails);
</script>

</body>
</html>
